<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!-- Consider adding an manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>somacore.js</title>
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width,initial-scale=1">

	<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="styles/css/main.css">
	<link rel="stylesheet" href="codemirror/css/codemirror.css">
	<link rel="stylesheet" href="codemirror/theme/eclipse.css">

</head>
<body>

<div id="container">
	<script type="text/javascript" src="js/app/init.js"></script>

	<header>
		<h1>somacore.js</h1>
	</header>

	<nav id="nav">
		<h1>Navigation</h2>
		<ul>
			<li id="nav-about"><a href="#about">About</a></li>
			<li id="nav-download"><a href="#download">Download</a></li>
			<li id="nav-tutorial"i><a href="#tutorial">Tutorial</a></li>
			<li id="nav-doc"><a href="#doc">Documentation</a></li>
		</ul>
	</nav>

	<section id="about">
		<a name="about"/>
		<h1>What is somacore.js</h1>
		<div>
			<p>
				somacore.js is a model-view-controller (mvc) javascript framework that is meant to help developers write loosely coupled applications to increase scalability and maintainability.
			</p>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
		</div>
	</section>

	<section id="download">
		<a name="download"/>
		<h1>Download</h1>
		<div>
			<p>Coming soon...</p>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
		</div>
	</section>

	<section id="tutorial">
		<a name="tutorial"/>
		<h1>Tutorials</h1>

		<!--create application-->
		<section id="create-app" class="chapter">
			<h2>Create a somacore application</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Create a somacore application (facade).
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a somacore application
var SomaApplication = soma.Application.extend();
log("somacore application created");
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 2</h3>
				<div class="content">
					Instantiate the application.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a somacore application
var SomaApplication = soma.Application.extend();
// create an instance of the extended somacore application
var app = new SomaApplication();
log(app);
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 3</h3>
				<div class="content">
					Add an init method.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a somacore application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log('init application');
	}
});
// create an instance of the extended somacore application
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 4</h3>
				<div class="content">
					Add a start method.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a somacore application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log('init application');
	},
	start: function() {
		// triggered by the framework, can be used as the starting point of the application
		log('start application');
	}
});
// create an instance of the extended somacore application
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 5</h3>
				<div class="content">
					All the methods that can be overridden in order of execution.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a somacore application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log('init application');
	},
	registerModels: function() {
		// triggered by the framework, can be used to register models
		log('register models');
	},
	registerViews: function() {
		// triggered by the framework, can be used to register views
		log('register views');
	},
	registerCommands: function() {
		// triggered by the framework, can be used to register commands
		log('register commands');
	},
	registerWires: function() {
		// triggered by the framework, can be used to register wires
		log('register wires');
	},
	start: function() {
		// triggered by the framework, can be used as the starting point of the application
		log('start application');
	}
});
// create an instance of the extended somacore application
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 6</h3>
				<div class="content">
					Access to the framework from other elements.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// create another framework element, a wire in this example
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered once the wire is added to the framework
		// access to the framework instance using the instance member
		log("framework instance: " + this.instance);
	}
});

// extend a somacore application
var SomaApplication = soma.Application.extend({
	registerWires: function() {
		// add a framework element to the framework instance
		// a wire in this example
		this.addWire("wire", new WireExample());
	},
});
// create an instance of the extended somacore application
var app = new SomaApplication();
</textarea>
				</div>
			</section>

		</section>

		<section id="create-wire" class="chapter">
			<h2>Create a wire</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Create a wire instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a Wire
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered when the wire is added to the framework
	},
	dispose: function() {
		// triggered when the wire is removed from the framework
	}
});

// create an instance of the extended wire
var wire = new WireExample();
log(wire);
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 2</h3>
				<div class="content">
					Add a wire to the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a Wire
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered when the wire is added to the framework
		log("init wire");
	}
});
WireExample.NAME = "WireExample";

// create a framework instance
var SomaApplication = soma.Application.extend();
var app = new SomaApplication();

// add a wire to the framework
app.addWire(WireExample.NAME, new WireExample());
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 3</h3>
				<div class="content">
					Add a wire to the framework instance from the instance itself.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code

// extend a Wire
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered when the wire is added to the framework
		log("init wire");
	}
});
WireExample.NAME = "WireExample";

// extend a framework application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log("init application");
	},
	registerWires: function() {
		// add a wire to the framework
		this.addWire(WireExample.NAME, new WireExample());
	}
});
// create a framework instance
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 4</h3>
				<div class="content">
					Retrieve a wire from the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a Wire
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered when the wire is added to the framework
	},
});
WireExample.NAME = "WireExample";

// extend a framework application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log("init application");
	},
	registerWires: function() {
		// add a wire to the framework
		this.addWire(WireExample.NAME, new WireExample());
		// retrieve a wire from the framework
		var retrievedWire = this.getWire(WireExample.NAME);
		log("retrieved wire: " + retrievedWire);
	}
});
// create a framework instance
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 5</h3>
				<div class="content">
					Remove a wire from the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

// extend a Wire
var WireExample = soma.Wire.extend({
	init: function() {
		// triggered when the wire is added to the framework
		log("init wire");
	},
	dispose: function() {
		// triggered when the wire is removed from the framework
		log("dispose wire");
	}
});
WireExample.NAME = "WireExample";

// extend a framework application
var SomaApplication = soma.Application.extend({
	init: function() {
		// triggered once the framework is ready
		log("init application");
	},
	registerWires: function() {
		// add a wire to the framework
		this.addWire(WireExample.NAME, new WireExample());
		// check if the framework has a wire
		if (this.hasWire(WireExample.NAME)) {
			// remove a wire
			this.removeWire(WireExample.NAME);
		}
	}
});
// create a framework instance
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 6</h3>
				<div class="content">
					Access to other framework elements.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code

var WireExample = soma.Wire.extend({
	init: function() {

	// models
	// this.addModel("model", ModelExample);
	// this.removeModel("model", ModelExample);
	// this.hasModel("model");
	// this.getModel("model");

	// wires
	// this.addWire("wire", WireExample);
	// this.removeWire("wire", WireExample);
	// this.hasWire("wire");
	// this.getWire("wire");

	// views
	// this.addView("view", ViewExample);
	// this.removeView("view", ViewExample);
	// this.hasView("view");
	// this.getView("view");

	// commands
	// this.addCommand("eventType", CommandExample);
	// this.removeCommand("eventType", CommandExample);
	// this.hasCommand("eventType", CommandExample);
	// this.dispatchEvent(new EventExample(EventExample.DO_SOMETHING));
	// this.addEventListener(EventExample.DO_SOMETHING, handler);
	// this.removeEventListener(EventExample.DO_SOMETHING, handler);

	},
});

</textarea>
				</div>
			</section>

		</section>

		<section id="create-model" class="chapter">
			<h2>Create a model</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Create a model instance.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
		// triggered when the model is added to the framework.
	},
	dispose: function() {
		// triggered when the model is removed from the framework.
	}
});
var model = new ModelExample();
log(model);
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 2</h3>
				<div class="content">
					Add a model to the framework instance.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
		// triggered when the model is added to the framework.
		log("init model");
	}
});
ModelExample.NAME = "ModelExample";

var SomaApplication = soma.Application.extend();
var app = new SomaApplication();

app.addModel(ModelExample.NAME, new ModelExample());
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 3</h3>
				<div class="content">
					Add a model to the framework instance from the instance itself.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
		// triggered when the model is added to the framework.
		log("init model");
	}
});
ModelExample.NAME = "ModelExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerModels: function() {
		this.addModel(ModelExample.NAME, new ModelExample());
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 4</h3>
				<div class="content">
					Retrieve a model from the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
		// triggered when the model is added to the framework.
	},
});
ModelExample.NAME = "ModelExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerModels: function() {
		this.addModel(ModelExample.NAME, new ModelExample());
		var retrievedModel = this.getModel(ModelExample.NAME);
		log("retrieved model: " + retrievedModel);
	}
});
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 5</h3>
				<div class="content">
					Remove a model from the framework instance.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
		// triggered when the model is added to the framework.
		log("init model");
	},
	dispose: function() {
		// triggered when the model is removed from the framework.
		log("dispose model");
	}
});
ModelExample.NAME = "ModelExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerModels: function() {
		this.addModel(ModelExample.NAME, new ModelExample());
		if (this.hasModel(ModelExample.NAME)) {
			this.removeModel(ModelExample.NAME);
		}
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 6</h3>
				<div class="content">
					Access to other framework elements.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ModelExample = soma.Model.extend({
	init: function() {
	// this.dispatchEvent(new EventExample(EventExample.DO_SOMETHING));
	// this.addEventListener(EventExample.DO_SOMETHING, handler);
	// this.removeEventListener(EventExample.DO_SOMETHING, handler);
	},
});
					</textarea>
				</div>
			</section>
		</section>

		<section id="create-view" class="chapter">
			<h2>Create a view</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Create a view instance (wrapper).
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the view is added to the framework.
	},
	dispose: function() {
		// triggered when the view is removed from the framework.
	}
});
var view = new ViewExample();
log(view);
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 2</h3>
				<div class="content">
					Create a view instance (no wrapper).
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ViewExample = function(){};
ViewExample.prototype = {
	init: function() {
		// triggered when the view is added to the framework.
	},
	dispose: function() {
		// triggered when the view is removed from the framework.
	}
};
var view = new ViewExample();
log(view);
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 3</h3>
				<div class="content">
					Add a view to the framework instance.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the view is added to the framework.
		log("init view");
	}
});
ViewExample.NAME = "ViewExample";

var SomaApplication = soma.Application.extend();
var app = new SomaApplication();

app.addView(ViewExample.NAME, new ViewExample());
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 4</h3>
				<div class="content">
					Add a view to the framework instance from the instance itself.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the view is added to the framework.
		log("init view");
	}
});
ViewExample.NAME = "ViewExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerViews: function() {
		this.addView(ViewExample.NAME, new ViewExample());
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 5</h3>
				<div class="content">
					Create a view instance with a dom element.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the view is added to the framework.
		log("dom element: " + this.domElement);
	}
});
ViewExample.NAME = "ViewExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerViews: function() {
		this.addView(ViewExample.NAME, new ViewExample(document.body.firstChild));
	}
});
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 6</h3>
				<div class="content">
					Retrieve a view from the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the view is added to the framework.
	},
});
ViewExample.NAME = "ViewExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerViews: function() {
		this.addView(ViewExample.NAME, new ViewExample());
		var retrievedView = this.getView(ViewExample.NAME);
		log("retrieved view: " + retrievedView);
	}
});
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 7</h3>
				<div class="content">
					Remove a view from the framework instance.
				</div>
				<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// triggered when the model is added to the framework.
		log("init view");
	},
	dispose: function() {
		// triggered when the view is removed from the framework.
		log("dispose view");
	}
});
ViewExample.NAME = "ViewExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerViews: function() {
		this.addView(ViewExample.NAME, new ViewExample());
		if (this.hasView(ViewExample.NAME)) {
			this.removeView(ViewExample.NAME);
		}
	}
});
var app = new SomaApplication();
</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 8</h3>
				<div class="content">
					Access to other framework elements.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var ViewExample = soma.View.extend({
	init: function() {
		// this.dispatchEvent(new EventExample(EventExample.DO_SOMETHING));
	},
});
					</textarea>
				</div>
			</section>
		</section>

		<section id="create-command" class="chapter">
			<h2>Create a command</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Register a command to the framework.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var SomaApplication = soma.Application.extend();
var app = new SomaApplication();

var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
	}
});

app.addCommand("eventType", CommandExample);
log("has command: " + app.hasCommand("eventType"));
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 2</h3>
				<div class="content">
					Register a command to the framework instance from the instance itself.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
	}
});

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand("eventType", CommandExample);
		log("has command: " + this.hasCommand("eventType"));
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 3</h3>
				<div class="content">
					Remove a command from the framework.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
	}
});

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand("eventType", CommandExample);
		if (this.hasCommand("eventType")) {
			this.removeCommand("eventType");
			log("has command: " + this.hasCommand("eventType"));
		}
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 4</h3>
				<div class="content">
					Dispatch an event and execute a command.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
		// events with a bubbles property set to false will be ignored by the framework
		// the soma.Event wrapper has its bubbles property set to true by default
		log("bubbles: " + event.bubbles);
		log("execute command: " + event.type);
	}
});

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand("eventType", CommandExample);
	},
	start: function() {
		this.dispatchEvent(new soma.Event("eventType"));
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 5</h3>
				<div class="content">
					Dispatch an event from a DOM element and execute a command.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
		// events with a bubbles property set to false will be ignored by the framework
		// the soma.Event wrapper has its bubbles property set to true by default
		log("execute command: " + event.type);
	}
});

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand("eventType", CommandExample);
	},
});
var app = new SomaApplication();

document.body.firstChild.dispatchEvent(new soma.Event("eventType"));
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 6</h3>
				<div class="content">
					Create a custom event.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var EventExample = soma.Event.extend();
var event = new EventExample("eventType");
log(event);
log("type: " + event.type);
log("bubbles: " + event.bubbles);
log("cancelable: " + event.cancelable);
log("default prevented: " + event.isDefaultPrevented());
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 7</h3>
				<div class="content">
					Create a custom event and send parameters.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var EventExample = soma.Event.extend({
	constructor: function(type, customVar, anotherVar, bubbles, cancelable) {
		return soma.Event.call(this, type, {customVar:customVar, anotherVar:anotherVar}, bubbles, cancelable);
	}
});
var event = new EventExample("eventType", "my custom var", "and another var");
log("params: " + event.params);
log("customVar: " + event.params.customVar);
log("anotherVar: " + event.params.anotherVar);
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
				<h3>Step 8</h3>
				<div class="content">
					Dispatch a custom event, execute a command and retrieve parameters.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var EventExample = soma.Event.extend({
	constructor: function(type, customVar, bubbles, cancelable) {
		return soma.Event.call(this, type, {customVar:customVar}, bubbles, cancelable);
	}
});
EventExample.DO_SOMETHING = "EventExample.DO_SOMETHING";

var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
		log("execute command: " + event.type);
		log("param: " + event.params.customVar);
	}
});

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand(EventExample.DO_SOMETHING, CommandExample);
	},
});
var app = new SomaApplication();

app.dispatchEvent(new EventExample(EventExample.DO_SOMETHING, "custom var content"));
					</textarea>
				</div>
			</section>
		</section>

		<section id="app-flow" class="chapter">
			<h2>Application flow</h2>
			<!--step-->
			<section class="step">
				<h3>Step 1</h3>
				<div class="content">
					Monitoring application flow.
				</div>
				<div class="code">
					<textarea class="code" name="code">
// edit me and run the code
var EventExample = soma.Event.extend();
EventExample.DO_SOMETHING = "EventExample.DO_SOMETHING"

var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
		log("execute command: " + event.type);
	}
});

var WireExample = soma.Wire.extend({
	init: function() {
		log("init wire");
		this.addEventListener(EventExample.DO_SOMETHING, this.eventHandler.bind(this));
	},
	eventHandler: function(event) {
		log("monitor command: " + event.type);
	}
});
WireExample.NAME = "WireExample";

var SomaApplication = soma.Application.extend({
	init: function() {
		log("init application");
	},
	registerCommands: function() {
		this.addCommand(EventExample.DO_SOMETHING, CommandExample);
	},
	registerWires: function() {
		this.addWire(WireExample, new WireExample());
	},
	start: function() {
		this.dispatchEvent(new EventExample(EventExample.DO_SOMETHING));
	}
});
var app = new SomaApplication();
					</textarea>
				</div>
			</section>
			<!--step-->
			<section class="step">
			<h3>Step 2</h3>
			<div class="content">
				Interrupting application flow.
			</div>
			<div class="code">
<textarea class="code" name="code">
// edit me and run the code
var EventExample = soma.Event.extend({
	constructor: function(type, customVar, bubbles, cancelable) {
		return soma.Event.call(this, type, {customVar:customVar}, bubbles, cancelable);
	}
});
EventExample.DO_SOMETHING = "EventExample.DO_SOMETHING";

var CommandExample = soma.Command.extend({
	execute: function(event) {
		// triggered when a command (event) is dispatched
		log("execute command: " + event.type);
	}
});

var WireExample = soma.Wire.extend({
	init: function() {
		log("init wire");
		this.addEventListener(EventExample.DO_SOMETHING, this.eventHandler.bind(this));
	},
	eventHandler: function(event) {
		// interrupt application flow if the event
        // has its cancelable property set to true
		log("cancelable: " + event.cancelable);
		log("monitor command: " + event.type);
		event.preventDefault();
		log("prevent defaulted: " + event.isDefaultPrevented());
	}
});
WireExample.NAME = "WireExample";

var SomaApplication = soma.Application.extend({
	registerCommands: function() {
		this.addCommand(EventExample.DO_SOMETHING, CommandExample);
	},
	registerWires: function() {
		this.addWire(WireExample, new WireExample());
	},
	start: function() {
      this.dispatchEvent(new EventExample(EventExample.DO_SOMETHING, null, true, true));
	}
});
var app = new SomaApplication();
</textarea>
					</div>
				</section>
			</section>

		</section>


	</section>

	<section id="doc">
		<a name="doc"/>
		<h1>Documentation</h1>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
			</p>
	</section>

	<footer></footer>

</div>

<script type="text/javascript" src="codemirror/js/codemirror.js"></script>
<script type="text/javascript" src="codemirror/js/javascript.js"></script>
<script type="text/javascript" src="js/libs/zepto.js"></script>
<script type="text/javascript" src="js/libs/somacore.js"></script>

<script type="text/javascript" src="js/app/constants.js"></script>
<script type="text/javascript" src="js/app/commands.js"></script>
<script type="text/javascript" src="js/app/events.js"></script>
<script type="text/javascript" src="js/app/models.js"></script>
<script type="text/javascript" src="js/app/views.js"></script>
<script type="text/javascript" src="js/app/wires.js"></script>
<script type="text/javascript" src="js/app.js"></script>

</body>
</html>
